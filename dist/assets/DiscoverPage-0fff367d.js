import{T}from"./TabBar-60665e79.js";import{c as y}from"./createLucideIcon-6f8267e0.js";import{P as S}from"./palette-9c021394.js";import{a as z,r as k,o as B,c as o,b as e,F as _,g as m,h as d,u as v,f as u,l as i,m as I,t as l,_ as P}from"./index-bf26fcf4.js";import"./user-79e17450.js";import"./message-circle-13c1f542.js";/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=y("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=y("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=y("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),j={class:"discover-page"},L={class:"tab-switcher"},N=["onClick"],O={class:"content-area"},V={key:0,class:"tab-content"},F={key:0,class:"empty-state"},E={class:"empty-icon"},H={key:1,class:"works-grid"},U=["onClick"],A={class:"work-cover"},G={key:0,class:"poem-preview"},J={key:1,class:"image-preview"},K={class:"work-info"},Q={class:"work-title"},R={class:"work-tags"},X={class:"work-meta"},Y={class:"time"},Z={key:1,class:"tab-content"},ee={class:"empty-state"},se={class:"empty-icon"},te={key:2,class:"tab-content"},oe={class:"emotion-topics"},ie={class:"topics-grid"},ae=["onClick"],ne={class:"topic-name"},le={class:"topic-count"},ce={key:3,class:"tab-content"},de={class:"bottle-area"},re={class:"bottle-animation"},_e={class:"bottle-icon"},me=z({__name:"DiscoverPage",setup(ve){const c=k("recommend"),p=k([]),h=[{key:"recommend",label:"推荐"},{key:"follow",label:"关注"},{key:"wall",label:"共鸣墙"},{key:"bottle",label:"流光瓶"}],b=["孤独","思念","深夜","回忆","希望","焦虑","快乐","感动","失落","温暖","迷茫","治愈"],g=a=>{c.value=a},f=a=>{console.log("查看作品:",a)},w=a=>{console.log("查看话题:",a)},M=()=>{console.log("投递流光瓶")},x=()=>{console.log("拾取流光瓶")},D=a=>{const t=new Date(a),n=new Date().getTime()-t.getTime(),r=Math.floor(n/(1e3*60*60));return r<1?"刚刚":r<24?`${r}小时前`:`${Math.floor(r/24)}天前`},C=()=>{const a=[{id:"1",user_id:"user1",session_id:"session1",source_message_id:"msg1",modality:"poem",title:"夜雨思君",desc:`夜雨敲窗声不断
思君不见泪如帘`,emotion_labels:["思念","孤独"],visibility:"public",created_at:new Date(Date.now()-72e5).toISOString()},{id:"2",user_id:"user2",session_id:"session2",source_message_id:"msg2",modality:"image",title:"城市夜景",desc:"霓虹灯下的孤独身影",emotion_labels:["孤独","深夜"],visibility:"public",created_at:new Date(Date.now()-18e6).toISOString()},{id:"3",user_id:"user3",session_id:"session3",source_message_id:"msg3",modality:"poem",title:"春日暖阳",desc:`春风拂面暖如昔
心中希望如花开`,emotion_labels:["希望","温暖"],visibility:"public",created_at:new Date(Date.now()-288e5).toISOString()}];p.value=a};return B(()=>{C()}),(a,t)=>(i(),o("div",j,[t[5]||(t[5]=e("div",{class:"status-bar safe-area-top"},null,-1)),t[6]||(t[6]=e("div",{class:"page-header"},[e("h1",{class:"page-title"},"发现")],-1)),e("div",L,[(i(),o(_,null,m(h,s=>e("button",{key:s.key,class:I(["tab-button",{active:c.value===s.key}]),onClick:n=>g(s.key)},l(s.label),11,N)),64))]),e("div",O,[c.value==="recommend"?(i(),o("div",V,[p.value.length===0?(i(),o("div",F,[e("div",E,[d(v(q),{size:48})]),t[0]||(t[0]=e("div",{class:"empty-text"},"去和我聊聊，作品会在这里遇见同频的人。",-1))])):(i(),o("div",H,[(i(!0),o(_,null,m(p.value,s=>(i(),o("div",{key:s.id,class:"work-item",onClick:n=>f(s)},[e("div",A,[s.modality==="poem"?(i(),o("div",G,l(s.title),1)):(i(),o("div",J,[d(v(S),{size:32})]))]),e("div",K,[e("div",Q,l(s.title),1),e("div",R,[(i(!0),o(_,null,m(s.emotion_labels.slice(0,2),n=>(i(),o("span",{key:n,class:"tag"},l(n),1))),128))])]),e("div",X,[t[1]||(t[1]=e("span",{class:"author"},"匿名用户",-1)),e("span",Y,l(D(s.created_at)),1)])],8,U))),128))]))])):u("",!0),c.value==="follow"?(i(),o("div",Z,[e("div",ee,[e("div",se,[d(v(W),{size:48})]),t[2]||(t[2]=e("div",{class:"empty-text"},"还没有关注的人，去发现页逛逛吧。",-1))])])):u("",!0),c.value==="wall"?(i(),o("div",te,[e("div",oe,[t[3]||(t[3]=e("div",{class:"topic-header"},[e("h3",null,"情绪话题")],-1)),e("div",ie,[(i(),o(_,null,m(b,s=>e("div",{key:s,class:"topic-item",onClick:n=>w(s)},[e("span",ne,l(s),1),e("span",le,l(Math.floor(Math.random()*100)+1),1)],8,ae)),64))])])])):u("",!0),c.value==="bottle"?(i(),o("div",ce,[e("div",de,[e("div",re,[e("div",_e,[d(v($),{size:64})]),t[4]||(t[4]=e("div",{class:"bottle-text"},"扔出一只瓶子，看看谁会拾起。",-1))]),e("div",{class:"bottle-actions"},[e("button",{class:"btn-primary bottle-btn",onClick:M},"投递流光瓶"),e("button",{class:"btn-secondary bottle-btn",onClick:x},"拾取流光瓶")])])])):u("",!0)]),d(T,{current:"discover"})]))}});const ge=P(me,[["__scopeId","data-v-3fb23262"]]);export{ge as default};
