var i=Object.defineProperty;var l=(a,e,s)=>e in a?i(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var r=(a,e,s)=>(l(a,typeof e!="symbol"?e+"":e,s),s);import{H as g}from"./index-f73cffae.js";class o{constructor(){r(this,"cache",new Map)}set(e,s){this.cache.set(e,s),console.log("歌词缓存已设置:",e,s)}get(e){const s=this.cache.get(e);return s?(console.log("从缓存获取歌词:",e,s),s):(console.log("缓存中未找到歌词:",e),null)}has(e){return this.cache.has(e)}delete(e){return this.cache.delete(e)}clear(){this.cache.clear()}get size(){return this.cache.size}get keys(){return Array.from(this.cache.keys())}}const u=new o,n=g({isGiftMode:!1,currentGiftMode:"image",giftTarget:"",giftMessage:"",giftResult:null,isGenerating:!1,generationProgress:"0%"}),t=g({messages:[],inputText:"",generatedMusic:null,generatedImage:null,generatedPoem:null,generatedVideo:null,giftSenderName:"",isGiftMode:!1,currentGiftMode:"image",giftTarget:"",giftMessage:"",giftResult:null,isGenerating:!1,generationProgress:"0%",conversationId:""}),d={saveState(a){Object.assign(n,a)},getState(){return n},resetState(){n.isGiftMode=!1,n.currentGiftMode="image",n.giftTarget="",n.giftMessage="",n.giftResult=null,n.isGenerating=!1,n.generationProgress="0%"},enableGiftMode(){n.isGiftMode=!0},saveGiftResult(a){n.giftResult=a},saveChatPageState(a){Object.assign(t,a)},getChatPageState(){return t},resetChatPageState(){t.messages=[],t.inputText="",t.generatedMusic=null,t.generatedImage=null,t.generatedPoem=null,t.generatedVideo=null,t.giftSenderName="",t.isGiftMode=!1,t.currentGiftMode="image",t.giftTarget="",t.giftMessage="",t.giftResult=null,t.isGenerating=!1,t.generationProgress="0%",t.conversationId=""}};export{d as g,u as l};
